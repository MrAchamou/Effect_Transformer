modules = ["nodejs-20", "web"]
run = "npm run dev"

[nix]
channel = "stable-25_05"

[deployment]
run = ["sh", "-c", "npm run dev"]

[[ports]]
localPort = 5000
externalPort = 80

[[ports]]
localPort = 5001
externalPort = 3000

[workflows]
runButton = "Diagnostic & Repair"

[[workflows.workflow]]
name = "Development Server"
author = 46693632
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Clean Start"
author = 46721786
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node test-system-fixed.js"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node start-server.js"

[[workflows.workflow]]
name = "Quick Start"
author = 46725038
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node test-system-simplified.js"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node simple-start.js"

[[workflows.workflow]]
name = "Universal Start"
author = 46725038
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node test-system-universal.js"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node simple-start-universal.js"

[[workflows.workflow]]
name = "Robust Start"
author = 46725038
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node system-check.mjs"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node start-app.mjs"

[[workflows.workflow]]
name = "Emergency Start"
author = 46725038
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install cors @types/cors"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node emergency-server.mjs"

[[workflows.workflow]]
name = "Diagnostic & Repair"
author = 46726990
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "node quick-fix-server.mjs"
